<?xml version='1.0' encoding='UTF-8' ?>
<ui:composition template="/template/page-standard.xhtml"
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets">>
<f:metadata>
		<f:viewAction action="#{utilJsf.messageFromRequestAttribute()}" />
	</f:metadata>

	<ui:define name="titre">Genres</ui:define>

	<ui:define name="contenu">
	<ui:include src="../components/popup.xhtml" />
	 <h:form>
		<ui:repeat value="#{modelGenres.livresParCategories.entrySet()}"
			var="entry">
			<section class="latest">
				<h2 class="latest_heading">
					<h:outputText value="#{entry.key}"></h:outputText>
				</h2>
				<div>
					<ui:repeat value="#{entry.value}" var="livre">
						<ul class="books-ln cs-hidden">
							<li>
								<div class="latest_box">
									<div class="latest_b_img">
										<h:commandLink action="${modelPopup.openPopup(livre)}"
											onclick="popup.show()">
											<f:ajax render="popup_container" />
											<div class="latest_b_img">
												<h:graphicImage url="${livre.image}" alt="${livre.nom}"></h:graphicImage>
											</div>
										</h:commandLink>
									</div>
									<div class="latest_b_text">
										<strong><h:outputText value="${livre.nom}"></h:outputText></strong>
										<p class="authors">
											<h:outputText value="${livre.author}"></h:outputText>
										</p>
									</div>
								</div>
							</li>

						</ul>

					</ui:repeat>
				</div>
			</section>
		</ui:repeat>

</h:form>
		<h:outputScript name="genres.js" library="js" />
	</ui:define>

</ui:composition>

